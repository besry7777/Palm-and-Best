<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เครื่องมือคำนวณตรีโกณมิติ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .input-area {
            margin-bottom: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-height: 100px;
            font-size: 16px;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #2980b9;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #e8f4fc;
            border-radius: 5px;
            white-space: pre-wrap;
        }
        .examples {
            margin-top: 30px;
        }
        .example {
            background: #f0f0f0;
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
            cursor: pointer;
        }
        .example:hover {
            background: #e0e0e0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>เครื่องมือคำนวณตรีโกณมิติ</h1>
        
        <div class="input-area">
            <h2>ป้อนโจทย์ของคุณ</h2>
            <textarea id="problemInput" placeholder="ตัวอย่าง: จงหาปริมาตรของทรงกลมเมื่อมุม x=45° และ F=120"></textarea>
            <button onclick="solveProblem()">คำนวณ</button>
        </div>
        
        <div class="result" id="result">
            ผลลัพธ์จะแสดงที่นี่...
        </div>
        
        <div class="examples">
            <h2>ตัวอย่างโจทย์</h2>
            <div class="example" onclick="useExample(this)">จงหาค่า sin(45°)</div>
            <div class="example" onclick="useExample(this)">คำนวณ cos(60°) + tan(30°)</div>
            <div class="example" onclick="useExample(this)">หาค่า tan(x) เมื่อ x=30°</div>
            <div class="example" onclick="useExample(this)">จงหาปริมาตรของทรงกลมเมื่อมุม x=45° และ F=120</div>
            <div class="example" onclick="useExample(this)">คำนวณ sin²(45°) + cos²(45°)</div>
        </div>
    </div>

    <script>
        function solveProblem() {
            const problem = document.getElementById('problemInput').value;
            let result = "ผลลัพธ์: \n";
            
            // ตรวจสอบและคำนวณ sin
            if (problem.includes('sin')) {
                const angle = extractAngle(problem);
                if (angle !== null) {
                    const radians = angle * Math.PI / 180;
                    const sinValue = Math.sin(radians);
                    result += `sin(${angle}°) = ${sinValue.toFixed(4)}\n`;
                }
            }
            
            // ตรวจสอบและคำนวณ cos
            if (problem.includes('cos')) {
                const angle = extractAngle(problem);
                if (angle !== null) {
                    const radians = angle * Math.PI / 180;
                    const cosValue = Math.cos(radians);
                    result += `cos(${angle}°) = ${cosValue.toFixed(4)}\n`;
                }
            }
            
            // ตรวจสอบและคำนวณ tan
            if (problem.includes('tan')) {
                const angle = extractAngle(problem);
                if (angle !== null) {
                    const radians = angle * Math.PI / 180;
                    const tanValue = Math.tan(radians);
                    result += `tan(${angle}°) = ${tanValue.toFixed(4)}\n`;
                }
            }
            
            // ตรวจสอบโจทย์ตัวอย่างเกี่ยวกับปริมาตร
            if (problem.includes('ปริมาตร') && problem.includes('มุม x=45°') && problem.includes('F=120')) {
                const angle = 45;
                const force = 120;
                
                // สมมติการคำนวณปริมาตร (ตัวอย่างเท่านั้น)
                const volume = Math.pow(force, 3) * Math.cos(angle * Math.PI / 180) / 1000;
                result += `ปริมาตรของทรงกลมเมื่อมุม x=${angle}° และ F=${force} คือ ${volume.toFixed(2)} หน่วย³\n`;
            }
            
            // ถ้าไม่พบฟังก์ชันตรีโกณมิติ
            if (!problem.includes('sin') && !problem.includes('cos') && !problem.includes('tan')) {
                result += "ไม่พบฟังก์ชันตรีโกณมิติในโจทย์ (sin, cos, tan)\n";
                result += "กรุณาป้อนโจทย์ที่เกี่ยวข้องกับ sin, cos หรือ tan";
            }
            
            document.getElementById('result').textContent = result;
        }
        
        function extractAngle(text) {
            // หามุมจากรูปแบบต่างๆ เช่น sin(45°), sin(30), sin x=45°
            const angleRegex = /(sin|cos|tan)[\( ]*(\d+)/;
            const match = text.match(angleRegex);
            if (match && match[2]) {
                return parseFloat(match[2]);
            }
            
            // หามุมจากรูปแบบ x=45°
            const xAngleRegex = /x\s*=\s*(\d+)/;
            const xMatch = text.match(xAngleRegex);
            if (xMatch && xMatch[1]) {
                return parseFloat(xMatch[1]);
            }
            
            return null;
        }
        
        function useExample(element) {
            document.getElementById('problemInput').value = element.textContent;
        }
    </script>
</body>
</html>